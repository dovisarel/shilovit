(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0dd022"],{"800d":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"flex flex-center"},[i("div",{staticClass:"q-pa-md",staticStyle:{"max-width":"400px"}},[i("h1",{staticClass:"text-h4 text-center q-ma-none q-pb-lg"},[t._v("הוספת דיווח")]),i("q-form",{staticClass:"q-gutter-xs",on:{submit:t.doAdd}},[i("q-select",{attrs:{label:"סוג הפעילות",options:t.activitiesTypesList,"__emit-value":"","map-options":"",rules:[function(t){return t.value||"לא נבחר סוג"}]},model:{value:t.activityTypeConfig,callback:function(e){t.activityTypeConfig=e},expression:"activityTypeConfig"}}),i("q-input",{staticClass:"text-center",attrs:{dense:"",label:"תאריך",dir:"ltr",filled:"",mask:"####-##-##","fill-mask":"",rules:[function(e){return e&&t.vadidateDate(e)||"תאריך לא תקין"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[i("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-date",{attrs:{mask:"YYYY-MM-DD","today-btn":""},on:{input:function(){return t.$refs.qDateProxy.hide()}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)]},proxy:!0}]),model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._.get(t.activityTypeConfig,"showStartTime")?i("q-input",{attrs:{dense:"",label:"התחלה",dir:"ltr",filled:"",mask:"time",rules:["time"]},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[i("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-time",{model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}},[i("div",{staticClass:"row items-center justify-center q-gutter-sm"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"אישור",color:"primary"}})],1)])],1)],1)]},proxy:!0}],null,!1,4156707323),model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}):t._e(),t._.get(t.activityTypeConfig,"showEndTime")?i("q-input",{attrs:{dense:"",label:"סיום",dir:"ltr",filled:"",mask:"time",rules:[function(){return!0}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[i("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-time",{model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}},[i("div",{staticClass:"row items-center justify-center q-gutter-sm"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"אישור",color:"primary"}})],1)])],1)],1)]},proxy:!0}],null,!1,3082153780),model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}}):t._e(),t._.get(t.activityTypeConfig,"showTestsList")?i("q-select",{attrs:{label:"שם המבחן",options:t.testsList,"emit-value":"","map-options":"",rules:[function(t){return t||"לא נבחר סוג"}]},scopedSlots:t._u([{key:"option",fn:function(e){return[i("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[i("q-item-section",[i("q-item-label",[t._v(t._s(e.opt.label))]),i("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.opt.description))])],1)],1)]}}],null,!1,799599824),model:{value:t.options.testId,callback:function(e){t.$set(t.options,"testId",e)},expression:"options.testId"}}):t._e(),t._.get(t.activityTypeConfig,"showScore")?i("q-input",{attrs:{type:"text",dense:"",min:"0",max:"100",label:"ציון",dir:"ltr",filled:"",autofocus:!1,rules:[function(e){return t._.toSafeInteger(e)==e||"הציון חייב להיות מספר שלם"},function(t){return t>0||"הציון לא יכול להיות מתחת אפס"},function(t){return t<=100||"הציון לא יכול להיות מעל 100"}]},model:{value:t.options.score,callback:function(e){t.$set(t.options,"score",t._n(e))},expression:"options.score"}}):t._e(),i("div",[i("q-btn",{attrs:{type:"submit",label:"הוספה",color:"primary"}})],1)],1)],1)])},s=[],a=(i("8e6e"),i("8a81"),i("456d"),i("967e")),r=i.n(a),o=(i("ac6a"),i("cadf"),i("06db"),i("8615"),i("96cf"),i("fa84")),c=i.n(o),l=i("c47a"),p=i.n(l),u=i("bd4c"),d=i("2ef0"),m=i.n(d),f=i("2f62");function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach((function(e){p()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var b={name:"PageActivitiesAdd",data:function(){return{activityTypeConfig:{},date:u["b"].formatDate(Date.now(),"YYYY-MM-DD"),startTime:u["b"].formatDate(Date.now(),"H:mm"),endTime:"",options:{testId:0}}},computed:v({_:function(){return m.a}},Object(f["b"])({activitiesTypesList:function(t){return t.activities.types},testsList:function(t){return t.activities.testsList}}),{activityType:function(){return m.a.get(this.activityTypeConfig,"value")}}),methods:{vadidateDate:function(t){return u["b"].isValid(t)},doAdd:function(){var t=c()(r.a.mark((function t(){var e,i,n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$q.loading.show(),e={activityType:this.activityType,date:this.date,startTime:this.startTime,endTime:this.endTime,options:this.options},window.console.log(e),t.prev=3,t.next=6,this.$store.dispatch("activities/add",e);case 6:i=t.sent,i&&this.$q.notify("נשמר בהצלחה"),t.next=15;break;case 10:throw t.prev=10,t.t0=t["catch"](3),n=m.a.get(t.t0,"response.data"),this.$q.notify({message:n.message,caption:Object.values(n.errors)[0][0],multiLine:!0}),t.t0;case 15:return t.prev=15,this.$q.loading.hide(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[3,10,15,18]])})));function e(){return t.apply(this,arguments)}return e}()}},h=b,q=i("2877"),g=i("eebe"),T=i.n(g),w=i("9989"),x=i("0378"),_=i("ddd8"),k=i("27f9"),C=i("0016"),O=i("7cbe"),D=i("52ee"),j=i("ca78"),P=i("9c40"),Q=i("66e5"),S=i("4074"),I=i("0170"),$=i("7f67"),L=Object(q["a"])(h,n,s,!1,null,null,null);e["default"]=L.exports;T()(L,"components",{QPage:w["a"],QForm:x["a"],QSelect:_["a"],QInput:k["a"],QIcon:C["a"],QPopupProxy:O["a"],QDate:D["a"],QTime:j["a"],QBtn:P["a"],QItem:Q["a"],QItemSection:S["a"],QItemLabel:I["a"]}),T()(L,"directives",{ClosePopup:$["a"]})}}]);